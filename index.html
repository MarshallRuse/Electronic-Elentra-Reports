<!DOCTYPE html>
<html lang="en">
<head>
    <title>Elentra Extract Formatter</title>
    <link rel="stylesheet" href="src\contents\bootstrap\4.5.3\css\bootstrap.min.css" />
    <link rel="stylesheet" href="src\css\style.css" />
</head>
<body>
    <div class="wrapper">
        <!-- Sidebar -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>Elentra Extract Formatter</h3>
            </div>
    
            <ul class="list-unstyled components">
                <li class="sidebarMenuItem sidebarParent active">
                    <a href="#" id="menuFormatExtract">Format Extract</a>
                </li>
                <li class="sidebarMenuItem sidebarParent">
                    <a href="#" id="menuGenerateReport">Generate Report</a>
                </li>
                <li class="sidebarMenuItem sidebarParent">
                    <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Settings</a>
                    <ul class="collapse list-unstyled" id="pageSubmenu">
                        <li class="sidebarMenuItem sidebarChild">
                            <a href="#" id="menuReportSettings">Report Settings</a>
                        </li>
                        <!-- <li class="sidebarMenuItem sidebarChild">
                            <a href="#">Lookup Table Settings</a>
                        </li> -->
                    </ul>
                </li>
                <li class="sidebarMenuItem sidebarParent">
                    <a href="#" id="menuContact">Contact</a>
                </li>
            </ul>
        </nav>

        <div id="content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
        
                    <button type="button" id="sidebarCollapse" class="btn btn-light">
                        <img src="src\contents\icons\close.svg" alt="close" class="icon-button">
                    </button>
        
                </div>
            </nav>

            <!-- FORMAT EXTRACT PAGE -->
            <div id="formatExtract" class="container appPage">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        <h2 class="appPageTitle">Format Extract</h2>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Extract Data</p>
                    </div>
                    <div class="col-lg-10 offset-lg-1">
                        <div class="custom-file">
                            <input type="text" class="custom-file-input" id="FE_inpExtractDataFile" readonly>
                            <label class="custom-file-label" id="FE_lblExtractDataFile" for="FE_inpExtractDataFile">Choose file</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Lookup Table</p>
                    </div>
                    <div class="col-lg-10 offset-lg-1">
                        <div class="custom-file">
                            <input type="text" class="custom-file-input" id="FE_inpLookupTableFile" readonly>
                            <label class="custom-file-label" id="FE_lblLookupTableFile" for="FE_inpLookupTableFile">Choose file</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-4 col-md-8 offset-lg-4 offset-md-4">
                        <button class="btn btn-primary generate-button" id="btnFormatExtract" disabled>Format Extract</button>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1 separate-top">
                        <h5>Options</h5>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="FE_tglRemoveUnsubmitted">Remove Unsubmitted EPAs</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="FE_tglRemoveUnsubmitted">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="FE_tglRemoveProcedures">Remove Procedures</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="FE_tglRemoveProcedures">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="FE_tglRemoveEmptyColumns">Remove Empty Columns</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="FE_tglRemoveEmptyColumns">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="FE_tglFormatAsTable">Format as Table</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="FE_tglFormatAsTable">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <!-- <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="tglCreateSpinoffExtract">Create Spinoff Formatted Extract</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="tglCreateSpinoffExtract">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-8 offset-md-2">
                        <label class="h6" for="tglSpinoffExtractAsTable">Spinoff Extract as a Table</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="tglSpinoffExtractAsTable">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="tglIncludeExtractData">Include Extract Data in Report</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="tglIncludeExtractData">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div> -->
            </div><!-- End #formatExtract-->

            <!-- GENERATE REPORT PAGE -->
            <div id="generateReport" class="container appPage" style="display: none;">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        <h2 class="appPageTitle">Generate Report</h2>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-md-10 offset-md-1">
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="GR_rbUseRawExtract" name="GR_rbUseRawExtract" class="custom-control-input" checked>
                            <label class="custom-control-label" for="GR_rbUseRawExtract">Use raw Elentra Extract Data</label>
                          </div>
                          <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="GR_rbUseFormattedExtract" name="GR_rbUseFormattedExtract" class="custom-control-input" disabled>
                            <label class="custom-control-label" for="GR_rbUseFormattedExtract">Use a Formatted Extract (Coming soon!)</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Extract Data</p>
                    </div>
                    <div class="col-lg-10 offset-lg-1">
                        <div class="custom-file">
                            <input type="text" class="custom-file-input" id="GR_inpExtractDataFile" readonly>
                            <label class="custom-file-label" id="GR_lblExtractDataFile" for="GR_inpExtractDataFile">Choose file</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Lookup Table</p>
                    </div>
                    <div class="col-lg-10 offset-lg-1">
                        <div class="custom-file">
                            <input type="text" class="custom-file-input" id="GR_inpLookupTableFile" readonly>
                            <label class="custom-file-label" id="GR_lblLookupTableFile" for="GR_inpLookupTableFile">Choose file</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-4 col-md-8 offset-lg-4 offset-md-4">
                        <button class="btn btn-primary generate-button" id="btnGenerateReport" disabled>Generate Report</button>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1 separate-top">
                        <h5>Options</h5>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="GR_tglRemoveUnsubmitted">Remove Unsubmitted EPAs</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglRemoveUnsubmitted">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="GR_tglRemoveProcedures">Remove Procedures</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglRemoveProcedures">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="GR_tglRemoveEmptyColumns">Remove Empty Columns</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglRemoveEmptyColumns">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="GR_tglCreateSpinoffExtract">Create Spinoff Formatted Extract</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglCreateSpinoffExtract">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-8 offset-md-2">
                        <label class="h6" for="GR_tglSpinoffExtractAsTable">Spinoff Extract as a Table</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglSpinoffExtractAsTable">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <div class="row input-row-md">
                    <div class="col-md-9 offset-md-1">
                        <label class="h6" for="GR_tglIncludeExtractData">Include Extract Data in Report</label>
                    </div>
                    <div class="col-md-2">
                        <label class="switch">
                            <input type="checkbox" id="GR_tglIncludeExtractData">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div><!-- End #generateReport-->

            <div id="reportSettings" class="container appPage" style="display: none;">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        <h2 class="appPageTitle">Report Settings</h2>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Save Report to...</p>
                    </div>
                    <div class="col-lg-10 offset-lg-1">
                        <div class="custom-file">
                            <input type="text" class="custom-file-input" id="inpSaveReportFolder" readonly>
                            <label class="custom-file-label" id="lblSaveReportFolder" for="inpSaveReportFolder">Choose folder</label>
                          </div>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-4 col-md-8 offset-lg-4 offset-md-4">
                        <button class="btn btn-primary" id="btnSaveReportSettings" disabled>Save</button>
                    </div>
                </div>
            </div>

            <div id="contact" class="container appPage" style="display: none;">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        <h2 class="appPageTitle">Contact</h2>
                    </div>
                </div>
                <div class="row input-row-lg">
                    <div class="col-lg-10 offset-lg-1">
                        <p class="h5">Created by: <span style="color: rgb(111, 111, 111); padding-left: 10px;">Marshall Ruse</span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-10 offset-lg-1">
                        <p>If things are broken, feel free to contact me at <a href="mailto: marshall.ruse@utoronto.ca" style="color: rgb(109,127,204);">marshall.ruse@utoronto.ca</a>.</p>
                    </div>
                </div>
                </div>
            </div>
        </div><!-- End #content -->
    
    </div>
    
    <!-- Save Changed Settings Modal -->
    <!-- Modal -->
    <div class="modal fade" id="saveChangesModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="saveChangesModalLabel">Save changed preferences?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>You have changed report options, would you like to save them for next time?</p>
                <P>All changes except for the Extract Data path will be saved.</P>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnSaveOptionsChanges">Save</button>
                <button type="button" class="btn btn-secondary" id="btnDontSaveOptionsChanges" data-dismiss="modal">Don't Save</button>
            </div>
            </div>
        </div>
    </div>

    <!-- Fix unsupported entrustment types Modal -->
    <!-- Modal -->
    <div class="modal fade" id="fixUnsupportedEntrustmentsModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="saveChangesModalLabel">Fix Unsupported Entrustment Values</h5>
            </div>
            <div id="fixUnsupportedEntrustmentsModalBody" class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnSaveUnsupportedValFixes">Save Replacements</button>
                <!-- <button type="button" class="btn btn-secondary" id="btnDontSaveUnsupportedValFixes" data-dismiss="modal">Don't Save</button> -->
            </div>
            </div>
        </div>
    </div>

    <!-- Progress Bar Toast -->
    <div id="progressToast" class="toast" style="position: fixed; top: 70px; right: 30px; z-index: 2; width: 100%;" data-autohide="false">
        <div class="toast-header">
        <strong id="toastHeaderText" class="mr-auto"></strong>
        <button id="btnProgressToastClose" type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close" style="display: none;">
            <span aria-hidden="true">&times;</span>
        </button>
        </div>
        <div class="toast-body" style="text-align: center;">
            <div class="progress">
                <div id="reportProgressBar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
            <em id="toastBodyProgressText" style="display: block; padding: 20px 0;"></em>
        </div>
    </div>
     
    <script>let $ = require('jquery');</script>
    <script>require('popper.js');</script>
    <script>require('bootstrap');</script>
    <script>
        const path = require('path');
        require(path.join(__dirname, 'src', 'index.js'));
    </script>
</body>
</html>